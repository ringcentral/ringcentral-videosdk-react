var ue=Object.defineProperty;var s=(o,t)=>ue(o,"name",{value:t,configurable:!0});import{r as p,j as e,b as C,F as T}from"./jsx-runtime.a8940ecc.js";import{s as pe,a as he,u as me,e as ve,_ as K,b as M,c as W,d as ge,C as fe,g as Y,f as Q,h as B,B as xe,i as be,j as w,k as Z,l as ee,m as Ce,n as De,o as te,F as Me,p as L,q as G,r as z,t as ye,v as F,w as oe,x as Se,y as X,z as R,D as ae,I as ie,A as se,E,G as Ne,H as _e,J as j,K as ke,L as q}from"./index.642da789.js";import{u as we,V as J}from"./useVideoDevices.daf324ea.js";const Ae=["className","component"];function Pe(o={}){const{defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:a}=o,m=pe("div",{shouldForwardProp:i=>i!=="theme"&&i!=="sx"&&i!=="as"})(he);return p.exports.forwardRef(s(function(d,f){const b=me(t),r=ve(d),{className:l,component:x="div"}=r,y=K(r,Ae);return e(m,M({as:x,ref:f,className:W(l,a?a(n):n),theme:b},y))},"Box"))}s(Pe,"createBox");const Ve=ge(),We=Pe({defaultTheme:Ve,defaultClassName:"MuiBox-root",generateClassName:fe.generate}),Be=We;function Le(o){return Q("MuiDialog",o)}s(Le,"getDialogUtilityClass");const $e=Y("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),H=$e,Re=p.exports.createContext({}),Te=Re,ze=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Fe=B(xe,{name:"MuiDialog",slot:"Backdrop",overrides:(o,t)=>t.backdrop})({zIndex:-1}),Oe=s(o=>{const{classes:t,scroll:n,maxWidth:a,fullWidth:m,fullScreen:u}=o,i={root:["root"],container:["container",`scroll${w(n)}`],paper:["paper",`paperScroll${w(n)}`,`paperWidth${w(String(a))}`,m&&"paperFullWidth",u&&"paperFullScreen"]};return te(i,Le,t)},"useUtilityClasses$1"),Ue=B(be,{name:"MuiDialog",slot:"Root",overridesResolver:(o,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ie=B("div",{name:"MuiDialog",slot:"Container",overridesResolver:(o,t)=>{const{ownerState:n}=o;return[t.container,t[`scroll${w(n.scroll)}`]]}})(({ownerState:o})=>M({height:"100%","@media print":{height:"auto"},outline:0},o.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},o.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),He=B(Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(o,t)=>{const{ownerState:n}=o;return[t.paper,t[`scrollPaper${w(n.scroll)}`],t[`paperWidth${w(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:o,ownerState:t})=>M({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:o.breakpoints.unit==="px"?Math.max(o.breakpoints.values.xs,444):`${o.breakpoints.values.xs}${o.breakpoints.unit}`,[`&.${H.paperScrollBody}`]:{[o.breakpoints.down(Math.max(o.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${o.breakpoints.values[t.maxWidth]}${o.breakpoints.unit}`,[`&.${H.paperScrollBody}`]:{[o.breakpoints.down(o.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${H.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),je=p.exports.forwardRef(s(function(t,n){const a=ee({props:t,name:"MuiDialog"}),m=Ce(),u={enter:m.transitions.duration.enteringScreen,exit:m.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":d,BackdropComponent:f,BackdropProps:b,children:r,className:l,disableEscapeKeyDown:x=!1,fullScreen:y=!1,fullWidth:S=!1,maxWidth:v="sm",onBackdropClick:D,onClose:N,open:_,PaperComponent:A=Z,PaperProps:k={},scroll:h="paper",TransitionComponent:c=Me,transitionDuration:g=u,TransitionProps:P}=a,le=K(a,ze),$=M({},a,{disableEscapeKeyDown:x,fullScreen:y,fullWidth:S,maxWidth:v,scroll:h}),O=Oe($),U=p.exports.useRef(),ce=s(V=>{U.current=V.target===V.currentTarget},"handleMouseDown"),re=s(V=>{!U.current||(U.current=null,D&&D(V),N&&N(V,"backdropClick"))},"handleBackdropClick"),I=De(d),de=p.exports.useMemo(()=>({titleId:I}),[I]);return e(Ue,M({className:W(O.root,l),closeAfterTransition:!0,components:{Backdrop:Fe},componentsProps:{backdrop:M({transitionDuration:g,as:f},b)},disableEscapeKeyDown:x,onClose:N,open:_,ref:n,onClick:re,ownerState:$},le,{children:e(c,M({appear:!0,in:_,timeout:g,role:"presentation"},P,{children:e(Ie,{className:W(O.container),onMouseDown:ce,ownerState:$,children:e(He,M({as:A,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":I},k,{className:W(O.paper,k.className),ownerState:$,children:e(Te.Provider,{value:de,children:r})}))})}))}))},"Dialog")),Ke=je;function Ye(o){return Q("MuiDialogContent",o)}s(Ye,"getDialogContentUtilityClass");Y("MuiDialogContent",["root","dividers"]);const Ge=Y("MuiDialogTitle",["root"]),Xe=Ge,Ee=["className","dividers"],qe=s(o=>{const{classes:t,dividers:n}=o;return te({root:["root",n&&"dividers"]},Ye,t)},"useUtilityClasses"),Je=B("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:n}=o;return[t.root,n.dividers&&t.dividers]}})(({theme:o,ownerState:t})=>M({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(o.vars||o).palette.divider}`,borderBottom:`1px solid ${(o.vars||o).palette.divider}`}:{[`.${Xe.root} + &`]:{paddingTop:0}})),Qe=p.exports.forwardRef(s(function(t,n){const a=ee({props:t,name:"MuiDialogContent"}),{className:m,dividers:u=!1}=a,i=K(a,Ee),d=M({},a,{dividers:u}),f=qe(d);return e(Je,M({className:W(f.root,m),ownerState:d,ref:n},i))},"DialogContent")),Ze=Qe,et=L(e("path",{d:"M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"}),"CallEnd"),tt=L(e("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}),"Chat"),ot=L(e("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ne=L(e("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),at=L(e("path",{d:"m21 6.5-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2 2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"}),"VideocamOff"),ct=s(({isShowLabel:o=!1,isDeviceListShown:t=!0,localMuteCallback:n=s(i=>{},"localMuteCallback"),onError:a,style:m,className:u})=>{const[i,d]=p.exports.useState(!1),[f,b]=p.exports.useState(!1),{rcvEngine:r}=G(),l=r==null?void 0:r.getMeetingController(),{state:x}=z(),[y,S]=ye(a),{t:v}=F(),D=p.exports.useRef(null);p.exports.useEffect(()=>{N()},[]);const N=s(()=>{const h=l==null?void 0:l.getAudioController(),c=h==null?void 0:h.on(oe.exports.AudioEvent.AUDIO_UNMUTE_DEMAND,()=>{d(!0)});return()=>{c==null||c()}},"initListener"),_=s(async()=>{var c,g;const h=x.isAudioMuted;try{h?await((c=l==null?void 0:l.getAudioController())==null?void 0:c.unmuteLocalAudioStream()):await((g=l==null?void 0:l.getAudioController())==null?void 0:g.muteLocalAudioStream()),n(!h)}catch(P){a&&a(P)}},"toggleMuteAudio"),A=s(async()=>{var h;try{await((h=l==null?void 0:l.getAudioController())==null?void 0:h.unmuteLocalAudioStream()),d(!1)}catch(c){a&&a(c)}},"acceptUnMuteAudioDemand"),k=s(async h=>{try{await(r==null?void 0:r.getAudioDeviceManager().setRecordingDevice(h)),await(r==null?void 0:r.getMeetingController().getAudioController().enableAudio({deviceId:h}))}catch(c){a&&a(c)}},"onAudioDeviceChange");return C(T,{children:[C("div",{className:`action-button ${u||""}`,ref:D,style:m,onClick:_,children:[x.isAudioMuted?e(Se,{className:"action-button-icon"}):e(X,{className:"action-button-icon"}),o&&e("div",{className:"action-button-label",children:x.isAudioMuted?v.audio_label_mute:v.audio_label_unmute}),t&&e("div",{className:`action-button-more ${f?"checked":""}`,onClick:h=>{h.stopPropagation(),b(!f)},children:e(ne,{sx:{fontSize:"14px"}})})]}),e(R,{anchorEl:D.current,anchorOrigin:{vertical:"top",horizontal:"center"},open:f,transformOrigin:{vertical:"bottom",horizontal:"center"},onClose:()=>b(!1),children:e("div",{className:"meeting-popover center-bottom",children:e(ae,{defaultDevice:S,deviceList:y,title:v.audio_device_list_microphone,titleIcon:e(X,{sx:ie}),onDeviceChange:k})})}),e(R,{anchorEl:D.current,anchorOrigin:{vertical:"top",horizontal:"center"},open:Boolean(D.current)&&i,transformOrigin:{vertical:"bottom",horizontal:"center"},onClose:()=>d(!1),children:e(se,{desc:v.audio_remote_unmute_desc,title:v.audio_remote_unmute_title,onDeny:()=>d(!1),onOk:A})})]})},"AudioAction"),rt=s(({isShowLabel:o=!1,className:t,style:n,onError:a})=>{const{state:m,dispatch:u}=z(),{t:i}=F(),d=s(()=>{u({type:j.ACTIVE_FEATURE_MODAL,payload:{activeFeatureModal:E.Chat}})},"showChatModal");return C(T,{children:[C("div",{className:`action-button ${t||""}`,style:n,onClick:d,children:[e(tt,{className:"action-button-icon"}),o&&C("div",{className:"action-button-label",children:[" ",i.chat_label]})]}),m.activeFeatureModal===E.Chat?e(Ne,{title:i.chat_dialog_title,children:e(_e,{onError:a})}):null]})},"ChatAction"),dt=s(({isShowLabel:o=!1,onError:t,className:n,style:a})=>{const m=p.exports.useRef(null),{rcvEngine:u}=G(),i=u==null?void 0:u.getMeetingController(),{state:d,dispatch:f}=z(),{t:b}=F(),[r,l]=p.exports.useState(!1),x=s(async()=>{d.localParticipant&&(d.localParticipant.isModerator||d.localParticipant.isHost)&&d.remoteParticipantList.length>0?l(!0):await y()},"leaveMeetingHandler"),y=s(async()=>{try{await(i==null?void 0:i.leaveMeeting()),f({type:j.RESET,payload:{}})}catch(v){t&&t(v)}},"leaveMeeting"),S=s(async()=>{try{await(i==null?void 0:i.endMeeting()),f({type:j.RESET,payload:{}})}catch(v){t&&t(v)}},"endMeeting");return C(T,{children:[C("div",{className:`action-button action-leave ${n||""}`,ref:m,style:a,onClick:x,children:[e(et,{className:"action-button-icon",sx:{color:"#ea4335"}}),o&&e("div",{className:"action-button-label",children:b.leave_label})]}),e(Ke,{open:r,onClose:()=>l(!1),children:C(Ze,{className:"leave-meeting-dialog",dividers:!0,children:[C("div",{className:"leave-meeting-dialog-header",children:[e("div",{className:"leave-meeting-dialog-title RCV-title-font",children:b.leave_dialog_title}),e("div",{className:"leave-meeting-dialog-close-action",children:e(ke,{"aria-label":"close",color:"inherit",edge:"start",onClick:()=>l(!1),children:e(ot,{})})})]}),C(Be,{className:"leave-meeting-dialog-action",children:[e("div",{className:"leave-meeting-dialog-action-item",children:e(q,{fullWidth:!0,variant:"contained",onClick:y,children:b.leave_dialog_btn_leave})}),e("div",{className:"leave-meeting-dialog-action-item",children:e(q,{fullWidth:!0,variant:"text",onClick:S,children:b.leave_dialog_btn_end})})]})]})})]})},"LeaveAction"),ut=s(({text:o="RingCentral"})=>e("div",{className:"logo",children:o}),"LogoIcon"),pt=s(({isShowLabel:o=!1,isDeviceListShown:t=!0,localMuteCallback:n=s(i=>{},"localMuteCallback"),onError:a,className:m,style:u})=>{const[i,d]=p.exports.useState(!1),[f,b]=p.exports.useState(!1),{rcvEngine:r}=G(),l=r==null?void 0:r.getMeetingController(),{state:x}=z(),[y,S]=we(),{t:v}=F(),D=p.exports.useRef(null);p.exports.useEffect(()=>{N()},[]);const N=s(()=>{const c=l==null?void 0:l.getVideoController(),g=c==null?void 0:c.on(oe.exports.VideoEvent.VIDEO_UNMUTE_DEMAND,()=>{d(!0)});return()=>{g==null||g()}},"initListener"),_=s(async()=>{var g;const c=S?{deviceId:S}:void 0;await((g=l==null?void 0:l.getVideoController())==null?void 0:g.unmuteLocalVideoStream(c))},"unmuteLocalVideoStream"),A=s(async()=>{var g;const c=x.isVideoMuted;try{c?await _():await((g=l==null?void 0:l.getVideoController())==null?void 0:g.muteLocalVideoStream()),n(!c)}catch(P){a&&a(P)}},"toggleMuteVideo"),k=s(async()=>{try{await _(),d(!1)}catch(c){a&&a(c)}},"acceptUnMuteVideoDemand"),h=s(async c=>{try{await(r==null?void 0:r.getVideoDeviceManager().setVideoDevice(c)),x.isVideoMuted||await(r==null?void 0:r.getMeetingController().getVideoController().unmuteLocalVideoStream({deviceId:c}))}catch(g){a&&a(g)}},"handleChangeVideoDevice");return C(T,{children:[C("div",{className:"action-button",ref:D,onClick:A,children:[x.isVideoMuted?e(at,{className:"action-button-icon"}):e(J,{className:"action-button-icon"}),o&&e("div",{className:"action-button-label",children:x.isVideoMuted?v.video_label_mute:v.video_label_unmute}),t&&e("div",{className:`action-button-more ${f?"checked":""}`,onClick:c=>{c.stopPropagation(),b(!f)},children:e(ne,{sx:{fontSize:"14px"}})})]}),e(R,{anchorEl:D.current,anchorOrigin:{vertical:"top",horizontal:"center"},open:f,transformOrigin:{vertical:"bottom",horizontal:"center"},onClose:()=>b(!1),children:e("div",{className:"meeting-popover center-bottom",children:e(ae,{defaultDevice:S,deviceList:y,title:v.video_device_list_camera,titleIcon:e(J,{sx:ie}),onDeviceChange:h})})}),e(R,{anchorEl:D.current,anchorOrigin:{vertical:"top",horizontal:"center"},open:Boolean(D.current)&&i,transformOrigin:{vertical:"bottom",horizontal:"center"},onClose:()=>d(!1),children:e(se,{desc:v.video_remote_unmute_desc,title:v.video_remote_unmute_title,onDeny:()=>d(!1),onOk:k})})]})},"VideoAction"),ht=s(({leftActions:o=[],centerActions:t=[],rightActions:n=[],className:a,style:m})=>C("div",{className:`action-bar ${a}`,style:m,children:[e("div",{className:"left-action-group",children:o.map((u,i)=>e(p.exports.Fragment,{children:u},i))}),e("div",{className:"action-center-group",children:t.map((u,i)=>e(p.exports.Fragment,{children:u},i))}),e("div",{className:"right-action-group",children:n.map((u,i)=>e(p.exports.Fragment,{children:u},i))})]}),"ActionBar");export{ht as A,Be as B,rt as C,dt as L,pt as V,ct as a,ut as b};
//# sourceMappingURL=index.61f92d32.js.map
